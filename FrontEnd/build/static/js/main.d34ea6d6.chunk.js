(this["webpackJsonpieti-lab03"]=this["webpackJsonpieti-lab03"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),c=(a(98),a(99),a(48)),i=a(12),s=a(11),u=a(39),d=a.n(u),m=a(152),p=a(178),g=a(181),h=a(160);function E(e,t,a){if(null!=localStorage.getItem("users")){e=function(e,t){for(var a=JSON.parse(localStorage.getItem("users")),n=0;n<a.length;n++)if(console.log(a[n]),a[n].email===e&&a[n].password===t)return a[n];return null}(e,t);console.log(e),null!=e?(localStorage.setItem("isLogged",!0),localStorage.setItem("name",e.name),a("")):a(!1)}else a(!1)}function f(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(""),u=Object(s.a)(c,2),f=u[0],v=u[1],b=Object(n.useState)(!1),y=Object(s.a)(b,2),w=y[0],x=y[1],j=Object(n.useState)(!0),C=Object(s.a)(j,2),S=C[0],k=C[1];if(r.a.useEffect((function(){console.log("Effect"),fetch("https://sheltered-brushlands-95860.herokuapp.com/user").then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("users",JSON.stringify(e))})).catch((function(e){return alert("Error")}))}),[]),localStorage.getItem("isLogged"))return r.a.createElement(i.a,{to:"/planer"});if(w)return r.a.createElement(i.a,{to:"/signup"});var O=r.a.createElement(m.a,{color:"secondary",size:"small",onClick:function(){return k(!0)}},r.a.createElement(d.a,{style:{background:"white"}}));return r.a.createElement("div",{id:"login",style:{width:"100%",height:"100hv",background:"orange",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:{width:"600px",height:"380px",background:"white",display:"block",borderRadius:"10px"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"Iniciar sesion")),r.a.createElement("div",{style:{background:"red",height:"1px"}}),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(p.a,{label:"Correo",value:l,onChange:function(e){return o(e.target.value)},style:{width:"90%"}})),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(p.a,{type:"password",value:f,label:"Contrase\xf1a",style:{width:"90%"},onChange:function(e){return v(e.target.value)}})),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(m.a,{style:{border:"1px solid orange"},onClick:function(){return E(l,f,k)}},"Iniciar sesion")),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(m.a,{style:{border:"1px solid orange"},onClick:function(){return x(!0)}},"Registrarse")),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement(g.a,{open:!S},r.a.createElement(h.a,{style:{background:"red"},message:"Usuario y/o contrase\xf1a incorrectos, por favor verifique.",action:O}))))}var v=a(28),b=a(172),y=a(171),w=a(167),x=a(179),j=a(177),C=a(174),S=a(176),k=a(159),O=a(168),I=a(169),N=a(170),R=a(76),D=a.n(R),A=a(173),B=a(57),L=a(161),W=a(16),P=a(75),z=a.n(P),J=a(162),T=a(164),U=a(163),F=a(74),M=a.n(F),q=Object(L.a)((function(e){return{card:Object(v.a)({width:"100%"},e.breakpoints.up("sm"),{width:"400px"}),root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}}));function G(e){var t=Object(W.a)(),a=q(t);a.bullet;return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{className:a.card},r.a.createElement(U.a,null,r.a.createElement(B.a,{className:a.title,color:"textSecondary",gutterBottom:!0},r.a.createElement(M.a,{style:{color:"green"}})," ",e.status),r.a.createElement(B.a,{variant:"h5",component:"h2"},e.description),r.a.createElement(B.a,{className:a.pos,color:"textSecondary"},e.people),r.a.createElement(B.a,{variant:"body2",component:"p"},r.a.createElement("b",null,"Fecha:"),r.a.createElement("br",null)," ",e.date.toString())),r.a.createElement(T.a,null,r.a.createElement(m.a,{size:"small"},"Learn More"))),r.a.createElement("div",{style:{width:"100%",height:"40px"}}))}var Y=a(175),$=a(61),H=a.n($),K=a(165),Q=a(166);function V(e){var t=r.a.useState(""),a=Object(s.a)(t,2),n=a[0],l=a[1],o=r.a.useState("Ready"),c=Object(s.a)(o,2),i=c[0],u=c[1],d=r.a.useState(""),g=Object(s.a)(d,2),h=g[0],E=g[1],f=r.a.useState(""),v=Object(s.a)(f,2),b=v[0],y=v[1],w=r.a.useState(new Date),x=Object(s.a)(w,2),j=x[0],C=x[1];return console.log("Render"),r.a.createElement(K.a,{open:e.open},r.a.createElement(Q.a,null,r.a.createElement("div",{style:{width:"500px"}},r.a.createElement("h1",null,"Nueva Actividad"),r.a.createElement(p.a,{value:n,onChange:function(e){return l(e.target.value)},type:"text",style:{width:"90%"},label:"Descripcion"}),r.a.createElement("div",{style:{width:"100%",height:"20px"}}),r.a.createElement("label",null,"Estado"),r.a.createElement("br",null),r.a.createElement(S.a,{value:i,onChange:function(e){return u(e.target.value)}},r.a.createElement("option",{value:"Ready"},"Ready"),r.a.createElement("option",{value:"In progress"},"In progress"),r.a.createElement("option",{value:"Done"},"Done")),r.a.createElement("div",{style:{width:"100%",height:"20px"}}),r.a.createElement(p.a,{value:b,onChange:function(e){return y(e.target.value)},type:"text",style:{width:"90%"},label:"Nombre encargado"}),r.a.createElement("div",{style:{width:"100%",height:"20px"}}),r.a.createElement(p.a,{value:h,onChange:function(e){return E(e.target.value)},type:"text",style:{width:"90%"},label:"Correo encargado"}),r.a.createElement("div",{style:{width:"100%",height:"20px"}}),r.a.createElement(p.a,{type:"date",onChange:function(e){return C(e.target.value)}}),r.a.createElement("div",{style:{width:"100%",height:"20px"}}),r.a.createElement("center",null,r.a.createElement(m.a,{onClick:function(t){return function(){var t={description:n,responsible:{name:b,email:h},status:i,dueDate:j};e.addTask(t)}()}},"A\xf1adir")),r.a.createElement("div",{style:{width:"100%",height:"20px"}}),r.a.createElement("center",null,r.a.createElement(m.a,{onClick:function(t){return e.close()}},"Close")))))}var X=Object(L.a)((function(e){var t;return{div:(t={height:"-moz-calc(100% - 150px)"},Object(v.a)(t,"height","-webkit-calc(100% - 150px)"),Object(v.a)(t,"height","calc(100% - 170px)"),Object(v.a)(t,"overflowY","scroll"),t)}})),Z=Object(L.a)((function(e){return{root:{display:"flex"},drawer:Object(v.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(v.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(0,"px)"),marginLeft:240}),menuButton:Object(v.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3),paddingBottom:e.spacing(0)}}}));var _=function(e){var t=e.window,a=Z(),n=X(),l=Object(W.a)(),o=r.a.useState(!1),c=Object(s.a)(o,2),u=c[0],g=c[1],h=r.a.useState(!1),E=Object(s.a)(h,2),f=E[0],v=E[1],R=r.a.useState(!1),L=Object(s.a)(R,2),P=L[0],J=L[1],T=r.a.useState("Ready"),U=Object(s.a)(T,2),F=U[0],M=U[1],q=r.a.useState(""),$=Object(s.a)(q,2),K=$[0],Q=$[1],_=r.a.useState(""),ee=Object(s.a)(_,2),te=ee[0],ae=ee[1],ne=r.a.useState(!1),re=Object(s.a)(ne,2),le=re[0],oe=re[1],ce=r.a.useState([{description:"Crear el front end",responsible:{name:"Santiago Carrillo",email:"sancarbar@gmail.com"},status:"Ready",dueDate:"2020-05-12"},{description:"Crear Back end",responsible:{name:"Santiago Carrillo",email:"sancarbar@gmail.com"},status:"Ready",dueDate:"2020-06-12"},{description:"Corregir Fallos",responsible:{name:"Santiago Carrillo",email:"sancarbar@gmail.com"},status:"Ready",dueDate:"2020-07-12"}]),ie=Object(s.a)(ce,2),se=ie[0],ue=ie[1],de=function(){g(!u)};if(!localStorage.getItem("isLogged"))return r.a.createElement(i.a,{to:"/"});if(f)return r.a.createElement(i.a,{to:"/logout"});var me=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(w.a,null),r.a.createElement(O.a,{button:!0},r.a.createElement(I.a,null,r.a.createElement(z.a,{style:{color:"blue"}})),r.a.createElement(N.a,{primary:localStorage.getItem("name")})),r.a.createElement(w.a,null),r.a.createElement(k.a,null,r.a.createElement(O.a,{button:!0,onClick:function(){return v(!0)}},r.a.createElement(I.a,null,r.a.createElement(d.a,{style:{color:"red"}})),r.a.createElement(N.a,{primary:"Cerrar sesion"})))),pe=void 0!==t?function(){return t().document.body}:void 0;return r.a.createElement("div",{className:a.root},r.a.createElement(y.a,null),r.a.createElement(b.a,{position:"fixed",className:a.appBar,style:{background:"orange"}},r.a.createElement(A.a,null,r.a.createElement(C.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:de,className:a.menuButton},r.a.createElement(D.a,null)),r.a.createElement(B.a,{variant:"h6",noWrap:!0},"Administrador de tareas"))),r.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},r.a.createElement(j.a,{smUp:!0,implementation:"css"},r.a.createElement(x.a,{container:pe,variant:"temporary",anchor:"rtl"===l.direction?"right":"left",open:u,onClose:de,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},me)),r.a.createElement(j.a,{xsDown:!0,implementation:"css"},r.a.createElement(x.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},me))),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),r.a.createElement("div",{className:n.div},"Email: ",r.a.createElement(p.a,{type:"text",value:K,onChange:function(e){return Q(e.target.value)}}),"Status: ",r.a.createElement(S.a,{value:F,onChange:function(e){return M(e.target.value)}},r.a.createElement("option",{value:"Ready"},"Ready"),r.a.createElement("option",{value:"In progress"},"In progress"),r.a.createElement("option",{value:"Done"},"Done")),"Date: ",r.a.createElement(p.a,{type:"date",onChange:function(e){return ae(e.target.value)}}),r.a.createElement(m.a,{onClick:function(e){return oe(!le)}},!le&&"Apply Filter",le&&"Disable filters"),r.a.createElement("br",null),r.a.createElement("br",null),!le&&se.map((function(e){return r.a.createElement(G,{status:e.status,people:e.responsible.email,description:e.description,date:e.dueDate})})),le&&function(e,t,a,n){var l=[];return n.forEach((function(n){console.log(n),n.responsible.email!=e&&n.responsible.status!=t&&n.dueDate!=a||l.push(r.a.createElement(G,{status:n.status,people:n.responsible.email,description:n.description,date:n.dueDate}))})),l}(K,F,te,se)),r.a.createElement("div",{style:{width:"100%",height:"70px",textAlign:"right"}},r.a.createElement(Y.a,{color:"secondary","aria-label":"add",onClick:function(){return J(!0)}},r.a.createElement(H.a,null)))),r.a.createElement(V,{open:P,close:function(){return J(!1)},addTask:function(e){return function(e){se.push(e),ue(se),J(!1)}(e)}}))};function ee(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)(""),u=Object(s.a)(c,2),E=u[0],f=u[1],v=Object(n.useState)(""),b=Object(s.a)(v,2),y=b[0],w=b[1],x=Object(n.useState)(null),j=Object(s.a)(x,2),C=j[0],S=j[1],k=Object(n.useState)(!0),O=Object(s.a)(k,2),I=O[0],N=O[1];if(localStorage.getItem("isLogged"))return r.a.createElement(i.a,{to:"/planer"});var R=r.a.createElement(m.a,{color:"secondary",size:"small",onClick:function(){return N(!0)}},r.a.createElement(d.a,{style:{background:"white"}}));return r.a.createElement("div",{id:"login",style:{width:"100%",height:"100hv",background:"orange",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:{width:"600px",height:"490px",background:"white",display:"block",borderRadius:"10px"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"Registro")),r.a.createElement("div",{style:{background:"red",height:"1px"}}),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(p.a,{label:"Nombre",value:C,onChange:function(e){return S(e.target.value)},style:{width:"90%"}})),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(p.a,{label:"Correo",value:l,onChange:function(e){return o(e.target.value)},style:{width:"90%"}})),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(p.a,{type:"password",value:E,label:"Contrase\xf1a",style:{width:"90%"},onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(p.a,{type:"password",value:y,label:"Retry Contrase\xf1a",style:{width:"90%"},onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(m.a,{style:{border:"1px solid orange"},onClick:function(){E==y&&""==E||E!=y?N(!1):(fetch("https://sheltered-brushlands-95860.herokuapp.com/user",{method:"post",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({email:l,password:E,name:C})}).then((function(e){return e.text()})).then((function(e){console.log("Data"),console.log(e),localStorage.setItem("name",C),localStorage.setItem("isLogged",!0),o(""),f("")})).catch((function(e){return alert("No se pudo registrar el usuario, intenta de nuevo")})),console.log({email:l,password:E,name:C}))}},"Registro")),r.a.createElement("div",{style:{height:"30px"}})),r.a.createElement(g.a,{open:!I},r.a.createElement(h.a,{style:{background:"red"},message:"Datos incorrectos verifica tu contrase\xf1a.",action:R})))}var te=function(){return r.a.createElement(c.a,null,r.a.createElement(i.b,{path:"/",component:f,exact:!0}),r.a.createElement(i.b,{path:"/signup",render:function(){return r.a.createElement(ee,null)}}),r.a.createElement(i.b,{path:"/planer",component:_,exact:!0}),r.a.createElement(i.b,{path:"/logout",render:function(){var e=localStorage.getItem("users");return localStorage.clear(),localStorage.setItem("users",e),r.a.createElement(i.a,{to:"/"})},exact:!0}))},ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("install",(function(){console.log("install!!")})),window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ae?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ne(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ne(t,e)}))}}()},93:function(e,t,a){e.exports=a(106)},98:function(e,t,a){},99:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.d34ea6d6.chunk.js.map